function q(){var c=[];this.o=function(){$(".kolyunya-map-input-widget").F(function(l,f){var b;$(f).data("initialized")?b=null:(b=new r(f),b.n());if(b){var m=b.l();c[m]=b}})};this.I=function(l){return c[l]}}
function r(c){function l(a){return void 0!==a.latitude&&void 0!==a.longitude?new google.c.f(a.latitude,a.longitude):a}function f(){var a=$(c).data("latitude"),b=$(c).data("longitude");return new google.c.f(a,b)}function b(){return""!=$(g).b("value")&&""!=$(h).b("value")?new google.c.f($(g).b("value"),$(h).b("value")):null}function m(){e=new google.c.w(p,{K:$(c).data("map-type"),D:""!=$(g).b("value")&&""!=$(h).b("value")?b():f(),zoom:$(c).data("zoom"),P:[{G:"poi",O:[{visibility:"off"}]}],J:{L:[]}});
google.c.event.addListener(e,"click",function(a){n.e({latitude:a.p.g(),longitude:a.p.h()})})}var t=$(c).data("latitude-selector"),u=$(c).data("longitude-selector"),n=this,g,h,p,e;this.n=function(){g=$(t).get(0);h=$(u).get(0);p=$(c).find("div.kolyunya-map-input-widget-canvas").get(0);m();var a=b();n.e(a,!0);$(c).data("initialized",!0)};this.l=function(){return $(c).b("id")};this.e=function(a,b){e.d&&e.d.M(null);if(null===a)$(g).b("disabled",!0),$(h).b("disabled",!0);else{$(g).b("disabled",!1);$(h).b("disabled",
!1);var k=l(a);b||$.A({url:"http://nominatim.openstreetmap.org/reverse",data:{format:"json",lat:k.g(),lon:k.h(),addressdetails:1,"accept-language":"en"},C:!1,type:"GET",Q:function(a){var d="";a.a.q?d+=a.a.q:a.a.s?d+=a.a.s:a.a.t&&(d+=a.a.t);a.a.m&&(d+=", "+a.a.m);a.a.city&&(d+=", "+a.a.city);a.a.k&&(d+=", "+a.a.k);a.a.r&&(d+=", "+a.a.r);var b=$($(c).data("address-selector"));b.j({borderColor:"#FF0000"},250);setTimeout(function(){b.R(d);b.j({borderColor:"#CCCCCC"},250)},400)}});1===$(c).data("align-map-center")&&
e.i(k);var f=null;1===$(c).data("animate-marker")&&(f=google.c.u.v);e.d=new google.c.z({map:e,position:k,draggable:!0,B:f});google.c.event.addListener(e.d,"dragend",function(){n.e(this.H())});$(g).b("value",k.g());$(h).b("value",k.h())}};this.i=function(a){a=l(a);e.i(a)};this.N=function(){}}var s;$(window).load(function(){s=new q;s.o()});
